(this.webpackJsonpsocialnetwork=this.webpackJsonpsocialnetwork||[]).push([[3],{249:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var s=o(2),n=o(51),i=(o(0),o(23)),a=o(8),c=o(1),r=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(i.b)(r)((function(t){var o=t.isAuth,i=Object(n.a)(t,["isAuth"]);return o?Object(c.jsx)(e,Object(s.a)({},i)):Object(c.jsx)(a.a,{to:"/login"})}))}},250:function(e,t,o){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__8roTJ",photoBlock:"ProfileInfo_photoBlock__2WOJ9",mainPhoto:"ProfileInfo_mainPhoto__oRVxS",info:"ProfileInfo_info__3nkHa",contactBlock:"ProfileInfo_contactBlock__14RWP",contact:"ProfileInfo_contact__3uve6",infoString:"ProfileInfo_infoString__2jHFR",inputFile:"ProfileInfo_inputFile__15jKF",button:"ProfileInfo_button__u4gyy"}},252:function(e,t,o){e.exports={addPost:"MyPost_addPost__GFhLm",textarea:"MyPost_textarea__24Ezm",button:"MyPost_button__1BMdt"}},253:function(e,t,o){e.exports={item:"Post_item__20-BL"}},254:function(e,t,o){"use strict";o.r(t),o.d(t,"ProfilesContainer",(function(){return L}));var s=o(2),n=o(4),i=o(5),a=o(11),c=o(12),r=o(0),l=o.n(r),u=o(28),j=o(250),b=o.n(j),d=o(35),f=o(1),h=function(e){var t=Object(r.useState)(!1),o=Object(u.a)(t,2),s=o[0],n=o[1],i=Object(r.useState)(e.status),a=Object(u.a)(i,2),c=a[0],l=a[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(f.jsxs)("div",{children:[!s&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Status"}),": ",Object(f.jsx)("span",{onDoubleClick:function(){n(!0)},children:e.status||"set status!"})]}),s&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onKeyPress:function(t){"Enter"===t.key&&(n(!1),e.updateStatus(c))},onBlur:function(){n(!1),e.updateStatus(c)},value:c,autoFocus:!0})})]})},p=o(84),O=o(73),x=function(e){var t=Object(O.a)({initialValues:{fullName:e.profile.fullName,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,aboutMe:e.profile.aboutMe,contacts:{facebook:e.profile.contacts.facebook,website:e.profile.contacts.website,vk:e.profile.contacts.vk,twitter:e.profile.contacts.twitter,instagram:e.profile.contacts.instagram,youtube:e.profile.contacts.youtube,github:e.profile.contacts.github,mainLink:e.profile.contacts.mainLink}},onSubmit:function(t){return e.saveProfile(t)}}),o=function(e){t.handleChange(e)};return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,className:b.a.info,children:[Object(f.jsx)("button",{type:"submit",className:b.a.button,children:"Save"}),Object(f.jsxs)("div",{className:b.a.contactBlock,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),":",Object(f.jsx)("div",{children:Object(f.jsx)("input",{id:"fullName",name:"fullName",type:"text",onChange:o,onBlur:t.handleBlur,className:b.a.infoString,value:t.values.fullName})}),Object(f.jsx)("b",{children:"Looking for a job"}),":",Object(f.jsx)("div",{children:Object(f.jsx)("input",{id:"lookingForAJob",name:"lookingForAJob",type:"checkbox",onChange:t.handleChange,className:b.a.infoString,checked:t.values.lookingForAJob})}),Object(f.jsx)("b",{children:"My professional skills:"}),":",Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{id:"lookingForAJobDescription",name:"lookingForAJobDescription",onChange:o,onBlur:t.handleBlur,className:b.a.infoString,value:t.values.lookingForAJobDescription})}),Object(f.jsx)("b",{children:"About me"}),":",Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{id:"aboutMe",name:"aboutMe",onChange:o,onBlur:t.handleBlur,className:b.a.infoString,value:t.values.aboutMe})})]}),Object(f.jsx)("div",{children:Object.entries(e.profile.contacts).map((function(e){var s=Object(u.a)(e,2),n=s[0];s[1];return Object(f.jsxs)("div",{className:b.a.contact,children:[Object(f.jsx)("b",{children:n}),": ",Object(f.jsx)("div",{children:Object(f.jsx)("input",{id:"contacts.".concat(n),name:"contacts.".concat(n),type:"text",onChange:o,onBlur:t.handleBlur,className:b.a.infoString,value:t.values.contacts[n]})})]})}))})]})]})};function m(e){var t=Object(r.useState)(!1),o=Object(u.a)(t,2),s=o[0],n=o[1];if(!e.profile)return Object(f.jsx)(d.a,{});return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:b.a.descriptionBlock,children:[Object(f.jsxs)("div",{className:b.a.mainInfo,children:[Object(f.jsxs)("div",{className:b.a.photoBlock,children:[Object(f.jsx)("img",{src:e.profile.photos.large||p.a,className:b.a.mainPhoto}),e.isOwner&&Object(f.jsx)("input",{id:"file",type:"file",onChange:function(t){null!==t.target.files&&(console.log(t.target.files[0]),e.savePhoto(t.target.files[0]))},name:"file",className:b.a.inputFile}),Object(f.jsx)("label",{htmlFor:"file",children:"Change avatar"})]}),Object(f.jsx)(h,{status:e.status,updateStatus:e.updateStatus})]}),s?Object(f.jsx)(x,{saveProfile:function(t){e.saveProfile(t),n(!1)},profile:e.profile}):Object(f.jsx)(v,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){return n(!0)}})]})})}var v=function(e){return Object(f.jsxs)("div",{className:b.a.info,children:[e.isOwner&&Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:e.goToEditMode,className:b.a.button,children:"edit"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),": ",e.profile.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job"}),": ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),": ",e.profile.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),": ",e.profile.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),": ",Object.entries(e.profile.contacts).map((function(e){var t=Object(u.a)(e,2),o=t[0],s=t[1];if(null!==s)return Object(f.jsx)(g,{contactTitle:o,contactValue:s},o)}))]})]})},g=function(e){var t=e.contactTitle,o=e.contactValue;return Object(f.jsxs)("div",{className:b.a.contact,children:[Object(f.jsx)("b",{children:t}),": ",o]})},k=o(9),P=o(252),_=o.n(P),N=o(253),S=o.n(N);function y(e){return Object(f.jsxs)("div",{className:S.a.item,children:[Object(f.jsx)("img",{src:"https://st.depositphotos.com/1779253/5140/v/600/depositphotos_51404241-stock-illustration-female-profile-avatar-icon-white.jpg",alt:"avatar"}),e.message,Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["like ",e.likeCount]})})]})}var A=o(53),B=l.a.memo((function(e){var t=Object(k.a)(e.posts.reverse()).map((function(e){return Object(f.jsx)(y,{id:e.id,message:e.message,likeCount:e.likeCount})}));return Object(f.jsxs)("div",{className:_.a.postsBlock,children:[Object(f.jsxs)("div",{className:_.a.addPost,children:[Object(f.jsx)("h3",{children:"My Posts"}),Object(f.jsx)(F,{AddNewPostHandler:function(t){e.AddNewPostHandler(t)}})]}),Object(f.jsx)("div",{className:_.a.posts,children:t})]})})),F=function(e){var t=Object(O.a)({initialValues:{text:""},validationSchema:A.a({text:A.b().max(15,"Must be 15 characters or less").required("Required")}),onSubmit:function(t){e.AddNewPostHandler(t.text)}});return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,value:t.values.text,onBlur:t.handleBlur,className:_.a.textarea,placeholder:"Enter your message"}),t.touched.text&&t.errors.text?Object(f.jsx)("div",{children:t.errors.text}):null]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",className:_.a.button,children:"add post"})})]})},w=o(74),C=o(23),I=Object(C.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{AddNewPostHandler:function(t){e(Object(w.a)(t))}}}))(B);function J(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(m,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(f.jsx)(I,{})]})}var M=o(8),D=o(249),E=o(32),H=function(e){Object(a.a)(o,e);var t=Object(c.a)(o);function o(){return Object(n.a)(this,o),t.apply(this,arguments)}return Object(i.a)(o,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=+this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(J,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.putStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),o}(l.a.Component),L=Object(E.c)(Object(C.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:w.c,getStatus:w.b,putStatus:w.e,savePhoto:w.f,saveProfile:w.g}),D.a,M.g)(H)}}]);
//# sourceMappingURL=3.38185381.chunk.js.map